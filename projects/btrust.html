<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arwords</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap"
        rel="stylesheet">
    <style>
        /* Prevent FOUC */
        html {
            visibility: visible;
            opacity: 1;
        }

        /* Custom styles to match the design */
        body {
            font-family: 'EB Garamond', serif;
            line-height: 1.75;
            font-size: 18px;
            opacity: 0;
            animation: fadeIn 0.5s ease-in forwards;
        }

        .prose {
            max-width: 65ch;
            margin: 0 auto;
        }

        .time-to-read {
            font-style: normal;
            font-feature-settings: "tnum" on, "lnum" on;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
                transform: translateY(10px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Page transition */
        a {
            transition: color 0.3s ease;
        }

        .page-transition {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 9999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    typography: {
                        DEFAULT: {
                            css: {
                                maxWidth: '65ch',
                                color: '#333',
                                'h1, h2, h3': {
                                    fontWeight: '500',
                                    marginTop: '2em',
                                    marginBottom: '1em'
                                }
                            }
                        }
                    }
                }
            }
        }

        // Page transition
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', function (e) {
                    if (this.hostname === window.location.hostname) {
                        e.preventDefault();
                        const href = this.getAttribute('href');
                        document.body.style.opacity = 0;
                        document.body.style.transform = 'translateY(10px)';
                        setTimeout(() => {
                            window.location.href = href;
                        }, 300);
                    }
                });
            });
        });
    </script>
</head>

<body class="bg-white text-gray-900">
    <div class="page-transition"></div>
    <div class="max-w-4xl mx-auto px-4 py-8">
        <header class="text-center mb-16">
            <h1 class="text-4xl font-medium mb-2 italic">
                <a href="../index.html" class="hover:text-gray-600">Kuba</a>
            </h1>
            <p class="text-gray-600 italic">Software Developer</p>
        </header>

        <main class="prose">
            <article>
                <h1 class="text-3xl font-medium mb-4">Btrust</h1>
                <!-- <div class="text-sm text-gray-500 mb-8 time-to-read italic">2023-01-26 · 5 min</div> -->

                <div class="space-y-6">
                    <a href="https://btrust.tech/" target="_blank"><img src="../assets/btrust.png" alt="Btrust" class="w-1/4"></a>
                    <p>
                        <a href="https://btrust.tech/" target="_blank"><b>Btrust</b></a> is a bitcoin academy. I am a proud student of 2025 cohort.
                    </p>

                    <h2 class="text-2xl font-medium mt-8 ">The Concept</h2>
                    <p class="">
                        I really wanted to put more time and effort in understanding bitcoin technical concepts, so when it happened to me that got relocated somewhere in global south, 
                        I couldn't miss the opportunity to be become a part of the latest cohort, I am very grateful for this.
                    </p>

                    <h2 class="text-2xl font-medium mt-8 ">Implementation</h2>
                    <p class="">
                        We used rust with bitcoincore library.
                    </p>

                    <h2 class="text-2xl font-medium mt-8">Result</h2>
                    <p>
                        At this stage the project is minimal and simple, but it already explains quite a bit, at least I learned a lot on the way. The results are in this
                        repo: <a href="https://github.com/kuba-04/rust-capstone-project"
                            target="_blank"><b>capstone_project</b></a>
                        and <a href="https://github.com/kuba-04/rust-week-1-exercises" target="_blank"><b>this
                                one</b></a> (btc_demy branch) was following a video tutorial.
                    </p>

                    <h2 class="text-2xl font-medium mt-8">Lessons Learned</h2>

                    <!-- Table of Contents -->
                    <h3 class="text-xl font-medium mt-6 mb-2">Table of Contents</h3>
                    <ul class="list-disc ml-6 mb-6">
                        <li><a href="#rust-concepts" class="text-gray-500 hover:underline italic">Rust Concepts</li>
                        <li><a href="#bitcoin-concepts" class="text-gray-500 hover:underline italic">Bitcoin Concepts</a></li>
                        <li><a href="#code-architecture" class="text-gray-500 hover:underline italic">Code Architecture</a></li>
                        <li><a href="#implementation-details" class="text-gray-500 hover:underline italic">Implementation Details</a></li>
                    </ul>

                    <hr>
                    <!-- Rust Concepts -->
                    <h3 id="rust-concepts" class="text-xl font-medium mt-8 mb-2">Rust Concepts <img src="../assets/rust.png" alt="Rust" class="w-7 inline-block"></h3>

                    <h4 class="text-lg font-semibold mt-6 mb-1">1. Error Handling</h4>
                    <p>Our code demonstrates Rust's robust error handling through:</p>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Use of <code>Result&lt;T, E&gt;</code> type for fallible operations</li>
                        <li>The <code>?</code> operator for error propagation</li>
                        <li>Custom error type handling with <code>RpcError</code></li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">2. Structs and Implementation Blocks</h4>
                    <p>The code showcases Rust's struct system and implementation blocks:</p>
                    <ul class="list-disc ml-6 mb-4">
                        <li><code>Config</code> struct for configuration management</li>
                        <li><code>TransactionDetails</code> struct for organizing transaction data</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">3. Traits</h4>
                    <p>Several Rust traits are implemented:</p>
                    <ul class="list-disc ml-6 mb-4">
                        <li><code>Debug</code> trait for debugging output</li>
                        <li><code>Display</code> trait for custom string formatting</li>
                        <li>Custom trait implementations for Bitcoin-specific functionality</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">4. Ownership and Borrowing</h4>
                    <p>The code demonstrates Rust's ownership system:</p>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Reference borrowing for function parameters</li>
                        <li>Cloning when ownership is needed</li>
                    </ul>

                    <hr>
                    <!-- Bitcoin Concepts -->
                    <h3 id="bitcoin-concepts" class="text-xl font-medium mt-8 mb-2">Bitcoin Concepts <img src="../assets/bitcoin.png" alt="Bitcoin" class="w-12 inline-block"></h3>

                    <h4 class="text-lg font-semibold mt-6 mb-1">1. Wallet Management</h4>
                    <p>The code implements basic Bitcoin wallet operations:</p>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Wallet creation and loading</li>
                        <li>Address generation</li>
                        <li>Balance checking</li>
                        <li>Transaction handling</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">2. Mining and Block Generation</h4>
                    <p>Key mining concepts demonstrated:</p>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Block generation to address</li>
                        <li>Mining rewards collection</li>
                        <li>Confirmation mechanics</li>
                        <li>Minimum number of blocks to mine to get the reward</li>
                        <li>Change address and amount</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">3. Transaction Flow</h4>
                    <p>Complete transaction lifecycle:</p>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Address Generation</li>
                        <li>Fund Transfer</li>
                        <li>Mempool Entry</li>
                        <li>Transaction Confirmation</li>
                        <li>Change Address Handling</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">4. Bitcoin Network Communication</h4>
                    <p>The code works with Bitcoin's Regtest network:</p>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Regtest network running in docker container</li>
                        <li>Address type specification (Bech32)</li>
                    </ul>

                    <!-- Code Architecture -->
                    <h3 id="code-architecture" class="text-xl font-medium mt-8 mb-2">Code Architecture</h3>

                    <h4 class="text-lg font-semibold mt-6 mb-1">1. Configuration Management</h4>
                    <pre class="bg-gray-100 rounded p-3 overflow-x-auto text-sm mb-4"><code>struct Config {
    rpc_url: String,
    rpc_user: String,
    rpc_password: String,
}</code></pre>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Environment-based configuration</li>
                        <li>Secure credential management</li>
                        <li>RPC client creation</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">2. Transaction Details Structure</h4>
                    <pre class="bg-gray-100 rounded p-3 overflow-x-auto text-sm mb-4"><code>struct TransactionDetails {
    txid: Txid,
    miner_input_address: Address,
    miner_input_amount: f64,
    // ...
}</code></pre>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Comprehensive transaction information</li>
                        <li>Input and output tracking</li>
                        <li>Fee calculation</li>
                        <li>Block confirmation details</li>
                    </ul>

                    <!-- Implementation Details -->
                    <h3 id="implementation-details" class="text-xl font-medium mt-8 mb-2">Implementation Details</h3>

                    <h4 class="text-lg font-semibold mt-6 mb-1">1. RPC Communication</h4>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Uses <a href="https://crates.io/crates/bitcoincore-rpc" target="_blank"><b>bitcoincore-RPC</b></a> crate for Bitcoin Core communication</li>
                        <li>Implements secure authentication</li>
                        <li>Handles JSON-RPC protocol</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">2. Wallet Operations</h4>
                    <pre class="bg-gray-100 rounded p-3 overflow-x-auto text-sm mb-4"><code>fn get_wallet(rpc: &Client, wallet_name: &str) -> bitcoincore_rpc::Result<LoadWalletResult></code></pre>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Wallet existence checking</li>
                        <li>Creation/loading logic</li>
                        <li>Error handling for wallet operations</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-6 mb-1">3. Transaction Processing</h4>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Amount validation</li>
                        <li>Fee calculation</li>
                        <li>Change address management</li>
                        <li>Transaction confirmation tracking</li>
                    </ul>


                    <!-- Best Practices Demonstrated -->
                    <h3 class="text-xl font-medium mt-8 mb-2">Best Practices Demonstrated</h3>
                    <ol class="list-decimal ml-6 mb-4">
                        <li><b>Error Handling</b>: Comprehensive error handling with custom error types</li>
                        <li><b>Documentation</b>: Clear function and struct documentation</li>
                        <li><b>Modular Design</b>: Separation of concerns between configuration, transaction handling, and wallet management</li>
                        <li><b>Resource Management</b>: Proper handling of file I/O and network connections</li>
                    </ol>

                    <!-- Testing and Verification -->
                    <h3 class="text-xl font-medium mt-8 mb-2">Testing and Verification</h3>
                    <ul class="list-disc ml-6 mb-4">
                        <li>Transaction verification</li>
                        <li>Balance checking</li>
                        <li>Block confirmation</li>
                        <li>Result logging to file</li>
                    </ul>

                    <!-- Getting Started -->
                    <h3 class="text-xl font-medium mt-8 mb-2">Getting Started</h3>
                    <ol class="list-decimal ml-6 mb-4">
                        <li>Ensure Bitcoin Core is running in regtest mode</li>
                        <li>Set up environment variables for RPC credentials</li>
                        <li>Run the code to execute the complete transaction scenario</li>
                        <li>Check the output file for transaction details</li>
                    </ol>

                    
                </div>
            </article>
            <hr class="my-8">
        </main>

        <footer class="mt-16 text-center text-sm text-gray-500">
            <!-- <nav class="mb-4">
                <a href="#" class="mx-2 hover:text-gray-900">Posts</a>
                <a href="#" class="mx-2 hover:text-gray-900">Tags</a>
                <a href="#" class="mx-2 hover:text-gray-900">About</a>
            </nav> -->
            <div class="flex justify-center space-x-4 mb-4">
                <a href="https://nosta.me/npub1mqe4v572yqvlxuhgjh5evp25er3plf8w74zxqe856zsfxpsm52ysgp2fhm"
                    class="hover:text-gray-900">NOSTR</a>
                <span>·</span>
                <a href="https://github.com/kuba-04" class="hover:text-gray-900">Github</a>
            </div>
            <p>© 2025 kuba-04</p>
        </footer>
    </div>
</body>

</html>